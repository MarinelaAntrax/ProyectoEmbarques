@{
    ViewBag.Title = "Sumario ";
}

<h2 class="page-header">@ViewBag.Title de Embarques</h2>
    @(Html.Kendo().Grid<ProyectoEmbarques.Models.Shipping_RecordsViewModel>()
                                            .Name("grid")
                                            .Sortable()
                                            .Selectable()
                                             .ToolBar(tools =>
                                             {

                                                 tools.Template(@<text>
                                                    <div class="toolbar">
                                                        <label class="category-label">De</label>
                                                        @(Html.Kendo().DatePicker()
                                                                .Name("Inicio")
                                                                .Value(DateTime.Today)
                                                                .Min("07/23/2018")
                                                                .HtmlAttributes(new { style = "width: 150px;" })
                                                        )
                                                        <label class="category-label"> a </label>
                                                        @(Html.Kendo().DatePicker()
                                                                .Name("Final")
                                                                .Value(DateTime.Today.AddDays(1))
                                                                .Min("07/23/2018")
                                                                .HtmlAttributes(new { style = "width: 150px;" })
                                                        )
                                                        <a id="btnSearch" class="k-button k-button-icontext" href="#"><span class="glyphicon glyphicon-search"></span> Buscar</a>
                                                    </div>
                                                </text>);
                                             })
                                                                  .Pageable(x => x.Numeric(true)
                                                                  .PreviousNext(true)
                                                                  .Refresh(true)
                                                                  .ButtonCount(5))
                                                                  .DataSource(dataSource => dataSource
                                                                  .Ajax()
                                                                     .Read(read => read.Action("Read", "EnsamblesRealizados").Data("FilterByDate"))
                                                                    .PageSize(100)
                                                                    )
                                                                      .Columns(columns =>
                                                                      {
                                                                          columns.Bound(o => o.Shipping_Catalog_Products.ProductName).Width(200);
                                                                          columns.Bound(o => o.Shipping_Catalog_Products.AreaName).Width(200);
                                                                          columns.Bound(o => o.Clients.ClientName).Width(300);
                                                                          columns.Bound(o => o.Clients.ClientAddress).Width(250);
                                                                          columns.Bound(o => o.RecordWorkOrder).Width(200);
                                                                          columns.Bound(o => o.RecordTrackingId).Width(200);
                                                                          columns.Bound(o => o.RecordSerialNo).Width(200);
                                                                          columns.Bound(o => o.RecordQuantity).Width(200);
                                                                          columns.Bound(o => o.RecordDate).Width(200).Filterable(false);
                                                                          columns.Bound(o => o.RecordFedexTracking).Width(200);
                                                                          columns.Bound(o => o.RecordControlBoxNo).Width(200);
                                                                          columns.Bound(o => o.RecordPieceBoxNo).Width(200);
                                                                          columns.Bound(o => o.CatalogShipmentType.ShipmentType).Width(200);
                                                                          columns.Bound(o => o.RecordSeguritySeal1).Width(200);
                                                                          columns.Bound(o => o.RecordSeguritySeal2).Width(200);
                                                                          columns.Bound(o => o.RecordSeguritySeal3).Width(200);
                                                                          columns.Bound(o => o.RecordSeguritySeal4).Width(200);
                                                                          columns.Bound(o => o.RecordComment).Width(200);
                                                                          columns.Bound(o => o.RecordComment1).Width(200);
                                                                          columns.Bound(o => o.RecordComment2).Width(200);
                                                                          columns.Bound(o => o.RecordRework).Width(200);
                                                                          columns.Bound(o => o.RecordFAI).Width(200);
                                                                          columns.Bound(o => o.RecordServiceType).Width(200);
                                                                      })
                                                                .Scrollable()
                                                                .Filterable(ftb => ftb.Mode(GridFilterMode.Row))
                                                                .HtmlAttributes(new { style = "height: 650px" })
    )
</div>

<script>
    function FilterByDate() {
        return {
            starDate: $("#Inicio").val(),
            endDate: $("#Final").val()
        };
    }

    $('#btnSearch').on("click", function (e) {
        $("#grid").data("kendoGrid").dataSource.read();
        return false;
    });
</script>


    <style>
        /*horizontal Grid scrollbar should appear if the browser window is shrinked too much*/
        .k-edit-form-container {
            width: 1000px;
        }
    </style>

